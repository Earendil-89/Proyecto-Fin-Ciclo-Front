(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7261f566"],{"7f7f":function(t,e,s){var i=s("86cc").f,o=Function.prototype,r=/^\s*function ([^ (]*)/,n="name";n in o||s("9e1e")&&i(o,n,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},e43e:function(t,e,s){"use strict";s.r(e);s("7f7f");var i=function(){var t=this,e=t._self._c;return e("div",[e("b-collapse",{attrs:{id:"formCollapse"}},[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.processForm.apply(null,arguments)}}},[e("h4",{staticClass:"mt-4 mb-3"},[t._v("Job information")]),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"jobNumber"}},[t._v("Job number")]),e("b-form-input",{attrs:{id:"jobNumber"},model:{value:t.jobNumber,callback:function(e){t.jobNumber=e},expression:"jobNumber"}}),e("p",{staticStyle:{"font-size":"70%",color:"red"}},[t._v("Required")])],1),e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"externalId"}},[t._v("External Id")]),e("b-form-input",{attrs:{id:"externalId"},model:{value:t.externalId,callback:function(e){t.externalId=e},expression:"externalId"}})],1),e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"site"}},[t._v("Site")]),e("div",{staticClass:"input-group"},[e("b-form-select",{model:{value:t.site,callback:function(e){t.site=e},expression:"site"}},t._l(t.sites,(function(s){return e("option",{key:s.id,domProps:{value:s}},[t._v(t._s(s.name))])})),0)],1),e("p",{staticStyle:{"font-size":"70%",color:"red"}},[t._v("Required")])]),e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"customer"}},[t._v("Customer")]),e("div",{staticClass:"input-group"},[e("b-form-select",{model:{value:t.customer,callback:function(e){t.customer=e},expression:"customer"}},t._l(t.customers,(function(s){return e("option",{key:s.id,domProps:{value:s}},[t._v(t._s(s.name))])})),0)],1),e("p",{staticStyle:{"font-size":"70%",color:"red"}},[t._v("Required")])]),e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"supplierName"}},[t._v("Supplier name")]),e("b-form-input",{attrs:{id:"supplierName"},model:{value:t.supplierName,callback:function(e){t.supplierName=e},expression:"supplierName"}}),e("p",{staticStyle:{"font-size":"70%",color:"red"}},[t._v("Required")])],1)],1),e("b-row",{staticClass:"mb-5"},[e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"comment"}},[t._v("Comment")]),e("b-form-input",{attrs:{id:"comment"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),e("b-col",{attrs:{cols:"3"}},[e("label",{staticClass:"form-label",attrs:{for:"type"}},[t._v("Type")]),e("b-form-select",{attrs:{disabled:""!=this.id,options:t.$constants().optionsJobType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),e("p",{staticStyle:{"font-size":"70%",color:"red"}},[t._v("Required")])],1)],1),e("Part",{directives:[{name:"show",rawName:"v-show",value:"Part"==t.type,expression:"type == 'Part'"}],ref:"part"}),e("Product",{directives:[{name:"show",rawName:"v-show",value:"Product"==t.type,expression:"type == 'Product'"}],ref:"product"}),e("div",{staticClass:"d-grid gap-2 mt-5 d-md-flex justify-content-md-end"},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:formCollapse",arg:"formCollapse"}],staticClass:"actionButton",attrs:{variant:"outline-danger"},on:{click:function(e){return t.reset()}}},[e("i",{staticClass:"far fa-times-circle mr-1"}),t._v("Cancel")]),e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle:formCollapse",arg:"formCollapse"}],staticClass:"actionButton",attrs:{disabled:""==t.jobNumber||""==t.site||""==t.customer||""==t.supplierName,variant:"outline-success",type:"submit"}},[e("i",{staticClass:"far fa-check-circle mr-1"}),t._v(t._s(t.txtBtnFormulario))])],1)],1)],1)],1)},o=[],r=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("strong",[t._v("Part list")]),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.partconfiguration",modifiers:{partconfiguration:!0}}],staticClass:"mb-2 ml-3 actionButton",attrs:{variant:"primary",pill:""},on:{click:t.resetEditModal}},[e("i",{staticClass:"fas fa-plus-circle"})]),e("b-table",{staticClass:"shadow-sm",staticStyle:{"font-size":"80%"},attrs:{responsive:"",id:"partsTable",fields:t.$constants().partTableFields,items:t.parts,bordered:"",hover:"",small:""},scopedSlots:t._u([{key:"table-busy",fn:function(){return[e("div",{staticClass:"text-center text-danger my-2"},[e("b-spinner",{staticClass:"align-middle"})],1)]},proxy:!0},{key:"cell(action)",fn:function(s){return[e("b-button-group",{staticClass:"col-md-5",attrs:{align:"center",size:"sm"}},[e("b-button",{staticClass:"actionButton",attrs:{size:"sm",variant:"outline-info"},on:{click:s.toggleDetails}},[e("i",{staticClass:"fas fa-info"}),t._v(" "+t._s((s.detailsShowing,""))+" ")]),e("b-button",{staticClass:"actionButton ml-1",attrs:{size:"sm",variant:"outline-success"},on:{click:function(e){return t.editPart(s)}}},[e("i",{staticClass:"fas fa-edit"})]),e("b-button",{staticClass:"actionButton ml-1",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(e){return t.deleteLinePart(s)}}},[e("i",{staticClass:"fas fa-trash-alt"})])],1)]}},{key:"row-details",fn:function(t){return[e("b-card",[e("vue-json-pretty",{attrs:{showDoubleQuotes:!1,showIcon:!0,data:t.item}})],1)]}}])})],1),e("b-modal",{ref:"partconfiguration",attrs:{id:"partconfiguration",title:"Part configuration",size:"xl","hide-footer":""},on:{close:t.hiddenModal}},[e("b-row",{staticClass:"mt-3"},[e("b-col",[e("b-card",[e("b-row",{staticClass:"mb-3 mt-3"},[e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("label",{staticClass:"form-label",attrs:{for:"partNumber"}},[t._v("Number")]),e("b-form-input",{attrs:{size:"sm",id:"partNumber"},model:{value:t.partNumber,callback:function(e){t.partNumber=e},expression:"partNumber"}})],1),e("b-col",{attrs:{cols:"2"}},[e("label",{staticClass:"form-label",attrs:{for:"type"}},[t._v("Type")]),e("b-form-select",{attrs:{size:"sm",options:t.$constants().optionsPartType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),"Single"==t.type?e("b-form-checkbox",{staticClass:"mt-2 mb-2",attrs:{id:"checkList",name:"checkList",value:"true",size:"sm","unchecked-value":"false"},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[t._v(" Checklist ")]):t._e()],1),e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"partDescription"}},[t._v("Description")]),e("b-form-input",{attrs:{size:"sm",id:"partDescription"},model:{value:t.partDescription,callback:function(e){t.partDescription=e},expression:"partDescription"}})],1)],1),e("b-row",{staticClass:"mt-5 mb-2"},[e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"defectDescription"}},[t._v("Defect")]),e("b-form-input",{attrs:{size:"sm",id:"defectDescription"},model:{value:t.defectDescription,callback:function(e){t.defectDescription=e},expression:"defectDescription"}})],1),e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"defectPhoto"}},[t._v("Photo")]),e("b-form-select",{attrs:{size:"sm",options:t.$constants().optionsPhoto},model:{value:t.defectPhoto,callback:function(e){t.defectPhoto=e},expression:"defectPhoto"}})],1),e("b-col",{staticStyle:{padding:"32px 0px 0px 0px"},attrs:{cols:"1"}},[e("b-button",{staticClass:"actionButton",attrs:{variant:"primary",disabled:""==t.defectDescription,size:"sm"},on:{click:function(e){return t.addLineDefect()}}},[t._v("+")])],1),e("b-col",{attrs:{cols:"6"}},[e("strong",[t._v("Defects")]),e("b-table",{staticClass:"mt-2",staticStyle:{"font-size":"80%"},attrs:{id:"parts",fields:t.$constants().defectTableFields,items:t.defects,small:""},scopedSlots:t._u([{key:"cell(action)",fn:function(s){return[e("b-button-group",{attrs:{align:"center",size:"sm"}},[e("b-button",{staticClass:"actionButton",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(e){return t.deleteLineDefect(s)}}},[e("i",{staticClass:"fas fa-trash-alt"})])],1)]}},{key:"cell(description)",fn:function(s){return[e("b-input",{attrs:{size:"sm"},model:{value:t.defects[s.index].description,callback:function(e){t.$set(t.defects[s.index],"description",e)},expression:"defects[data.index].description"}})]}},{key:"cell(photo)",fn:function(s){return[e("b-form-select",{attrs:{size:"sm",options:t.$constants().optionsPhoto},model:{value:t.defects[s.index].photo,callback:function(e){t.$set(t.defects[s.index],"photo",e)},expression:"defects[data.index].photo"}})]}}])})],1)],1),"Bulk"==t.type?e("b-row",{staticClass:"mt-3 mb-2"},[e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"reworkDescription"}},[t._v("Rework")]),e("b-form-input",{attrs:{size:"sm",id:"reworkDescription"},model:{value:t.reworkDescription,callback:function(e){t.reworkDescription=e},expression:"reworkDescription"}})],1),e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"reworkPhoto"}},[t._v("Photo")]),e("b-form-select",{attrs:{size:"sm",options:t.$constants().optionsPhoto},model:{value:t.reworkPhoto,callback:function(e){t.reworkPhoto=e},expression:"reworkPhoto"}})],1),e("b-col",{staticStyle:{padding:"32px 0px 0px 0px"},attrs:{cols:"1"}},[e("b-button",{staticClass:"actionButton",attrs:{variant:"primary",disabled:""==t.reworkDescription,size:"sm"},on:{click:function(e){return t.addLineRework()}}},[t._v("+")])],1),e("b-col",{attrs:{cols:"6"}},[e("strong",[t._v("Reworks")]),e("b-table",{staticClass:"mt-2",staticStyle:{"font-size":"80%"},attrs:{id:"parts",fields:t.$constants().reworkTableFields,items:t.reworks,small:""},scopedSlots:t._u([{key:"cell(action)",fn:function(s){return[e("b-button-group",{attrs:{align:"center",size:"sm"}},[e("b-button",{staticClass:"actionButton",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(e){return t.deleteLineRework(s)}}},[e("i",{staticClass:"fas fa-trash-alt"})])],1)]}},{key:"cell(description)",fn:function(s){return[e("b-input",{attrs:{size:"sm"},model:{value:t.reworks[s.index].description,callback:function(e){t.$set(t.reworks[s.index],"description",e)},expression:"reworks[data.index].description"}})]}},{key:"cell(photo)",fn:function(s){return[e("b-form-select",{attrs:{size:"sm",options:t.$constants().optionsPhoto},model:{value:t.reworks[s.index].photo,callback:function(e){t.$set(t.reworks[s.index],"photo",e)},expression:"reworks[data.index].photo"}})]}}],null,!1,4248556095)})],1)],1):t._e(),e("div",{staticClass:"col-sm mt-5 mr-4 d-grid gap-2 d-md-flex justify-content-md-end"},[e("b-button",{staticClass:"actionButton",attrs:{variant:"primary",disabled:""==t.partNumber||""==t.type},on:{click:function(e){return t.addLinePart()}}},[t._v("Save")]),e("b-button",{staticClass:"actionButton",attrs:{variant:"secondary"},on:{click:function(e){return t.closePartConfiguration()}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},n=[],a=s("838b"),c=s.n(a),l=(s("b83f"),{name:"Part",data:function(){return{id:"",partNumber:"",partDescription:"",type:"",parts:[],defects:[],reworks:[],defectDescription:"",reworkDescription:"",defectPhoto:"Photo optional",reworkPhoto:"Photo optional",edit:!1,rowIndex:""}},methods:{addLinePart:function(){1==this.edit&&this.parts.splice(this.rowIndex,1),""!=this.id?this.parts.push({id:this.id,number:this.partNumber,description:this.partDescription,type:this.type,checkList:this.checkList,defects:this.defects,reworks:this.reworks}):this.parts.push({number:this.partNumber,description:this.partDescription,type:this.type,checkList:this.checkList,defects:this.defects,reworks:this.reworks}),this.id="",this.partNumber="",this.partDescription="",this.type="",this.checkList=!1,this.defects=[],this.reworks=[],this.defectDescription="",this.defectPhoto="Photo optional",this.reworkDescription="",this.reworkPhoto="Photo optional",this.resetEditModal()},addLineDefect:function(){this.defects.push({description:this.defectDescription,photo:this.defectPhoto}),this.defectDescription="",this.defectPhoto="Photo optional"},addLineRework:function(){this.reworks.push({description:this.reworkDescription,photo:this.reworkPhoto}),this.reworkDescription="",this.reworkPhoto="Photo optional"},closePartConfiguration:function(){this.$refs.partconfiguration.hide(),this.resetEditModal()},editPart:function(t){this.$refs.partconfiguration.show(),void 0!=t.item.id&&(this.id=t.item.id),this.partNumber=t.item.number,this.partDescription=t.item.description,this.type=t.item.type,this.checkList=t.item.checkList,this.defects=t.item.defects,this.reworks=t.item.reworks,this.edit=!0,this.rowIndex=t.index},deleteLinePart:function(t){this.parts.splice(t.index,1)},deleteLineDefect:function(t){this.defects.splice(t.index,1)},deleteLineRework:function(t){this.reworks.splice(t.index,1)},resetEditModal:function(){this.edit=!1,this.rowIndex=""}},computed:{currentUser:function(){return this.$store.state.auth.user}},mounted:function(){this.currentUser||this.$router.push("/login")},components:{VueJsonPretty:c.a}}),u=l,d=s("2877"),p=Object(d["a"])(u,r,n,!1,null,null,null),m=p.exports,f=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("strong",[t._v("Product list")]),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.productconfiguration",modifiers:{productconfiguration:!0}}],staticClass:"mb-2 ml-3 actionButton",attrs:{variant:"primary",pill:""}},[e("i",{staticClass:"fas fa-plus-circle"})]),e("b-table",{staticClass:"shadow-sm",staticStyle:{"font-size":"80%"},attrs:{responsive:"",id:"productsTable",fields:t.$constants().productTableFields,items:t.products,bordered:"",hover:"",small:""},scopedSlots:t._u([{key:"table-busy",fn:function(){return[e("div",{staticClass:"text-center text-danger my-2"},[e("b-spinner",{staticClass:"align-middle"})],1)]},proxy:!0},{key:"cell(action)",fn:function(s){return[e("b-button-group",{staticClass:"col-md-5",attrs:{align:"center",size:"sm"}},[e("b-button",{staticClass:"actionButton",attrs:{size:"sm",variant:"outline-info"},on:{click:s.toggleDetails}},[e("i",{staticClass:"fas fa-info"}),t._v(" "+t._s((s.detailsShowing,""))+" ")]),e("b-button",{staticClass:"actionButton ml-1",attrs:{size:"sm",variant:"outline-success"},on:{click:function(e){return t.editProduct(s)}}},[e("i",{staticClass:"fas fa-edit"})]),e("b-button",{staticClass:"actionButton ml-1",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(e){return t.deleteLineProducts(s)}}},[e("i",{staticClass:"fas fa-trash-alt"})])],1)]}},{key:"row-details",fn:function(t){return[e("b-card",[e("vue-json-pretty",{attrs:{showDoubleQuotes:!1,showIcon:!0,data:t.item}})],1)]}}])})],1),e("b-modal",{ref:"productconfiguration",attrs:{id:"productconfiguration",title:"Product configuration",size:"xl","hide-footer":""}},[e("b-row",{staticClass:"mt-3"},[e("b-col",[e("b-card",[e("b-row",{staticClass:"mb-3 mt-3"},[e("b-row",[e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"serialNumber"}},[t._v("Reference")]),e("b-form-input",{attrs:{size:"sm",id:"reference"},model:{value:t.reference,callback:function(e){t.reference=e},expression:"reference"}})],1)],1),e("b-row",{staticClass:"mt-2"},[e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"description"}},[t._v("Description")]),e("b-form-input",{attrs:{size:"sm",id:"description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),e("b-row",{staticClass:"mt-5 mb-2"},[e("b-col",[e("label",{staticClass:"form-label",attrs:{for:"checkPointDescription"}},[t._v("Check Point")]),e("b-form-input",{attrs:{size:"sm",id:"checkPointDescription"},model:{value:t.checkPointDescription,callback:function(e){t.checkPointDescription=e},expression:"checkPointDescription"}})],1),e("b-col",{staticStyle:{padding:"32px 0px 0px 0px"},attrs:{cols:"1"}},[e("b-button",{staticClass:"actionButton",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.addLineCheckPoints()}}},[t._v("+")])],1),e("b-col",{attrs:{cols:"6"}},[e("b-table",{staticStyle:{"font-size":"80%"},attrs:{id:"checkListTable",fields:t.$constants().checkPointsTableFields,items:t.checkPoints,small:""},scopedSlots:t._u([{key:"cell(action)",fn:function(s){return[e("b-button-group",{attrs:{align:"center",size:"sm"}},[e("b-button",{staticClass:"actionButton",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(e){return t.deleteLineCheckPoints(s)}}},[e("i",{staticClass:"fas fa-trash-alt"})])],1)]}}])})],1)],1),e("div",{staticClass:"col-sm mt-5 mr-4 d-grid gap-2 d-md-flex justify-content-md-end"},[e("b-button",{staticClass:"actionButton",attrs:{variant:"primary"},on:{click:function(e){return t.addLineProducts()}}},[t._v("Add product")]),e("b-button",{staticClass:"actionButton",attrs:{variant:"secondary"},on:{click:function(e){return t.closeProductConfiguration()}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},b=[],h={name:"Product",data:function(){return{id:"",reference:"",description:"",products:[],checkPoints:[],checkPointDescription:""}},methods:{addLineProducts:function(){""!=this.id?this.products.push({id:this.id,reference:this.reference,description:this.description,checkPoints:this.checkPoints}):this.products.push({reference:this.reference,description:this.description,checkPoints:this.checkPoints}),this.id="",this.reference="",this.description="",this.checkPoints=[],this.checkPointDescription="",this.heckPointDescription=""},addLineCheckPoints:function(){this.checkPoints.push({description:this.checkPointDescription}),this.checkPointDescription=""},closeProductConfiguration:function(){this.$refs.productconfiguration.hide()},editProduct:function(t){this.$refs.productconfiguration.show(),void 0!=t.item.id&&(this.id=t.item.id),this.reference=t.item.reference,this.description=t.item.description,this.checkPoints=t.item.checkPoints,this.products.splice(t.index,1)},deleteLineProducts:function(t){this.products.splice(t.index,1)},deleteLineCheckPoints:function(t){this.checkPoints.splice(t.index,1)}},computed:{currentUser:function(){return this.$store.state.auth.user}},mounted:function(){this.currentUser||this.$router.push("/login")},components:{VueJsonPretty:c.a}},k=h,v=Object(d["a"])(k,f,b,!1,null,null,null),C=v.exports,x={name:"Job",data:function(){return{id:"",jobNumber:"",externalId:"",supplierName:"",comment:"",customer:"",site:"",status:"",type:"",perPage:10,currentPage:1,txtBtnFormulario:"Save",editState:!1,customers:[],sites:[],infoModalCustomer:{id:"info-modal-customer",title:"",content:""},infoModalSite:{id:"info-modal-site",title:"",content:""}}},methods:{getData:function(){var t=this;this.$parent.getDataFromType("customer").then((function(e){t.customers=e})).catch((function(e){return t.$parent.catchError(e)})),this.$parent.getDataFromType("site").then((function(e){t.sites=e})).catch((function(e){return t.$parent.catchError(e)}))},processForm:function(){if(0==this.editState){var t={jobNumber:this.jobNumber,type:this.type,externalId:this.externalId,supplierName:this.supplierName,comment:this.comment,customer:this.customer,site:this.site,status:"CREATED",parts:this.$refs.part.parts,products:this.$refs.product.products};this.$parent.saveData(t)}else{var e={id:this.id,jobNumber:this.jobNumber,type:this.type,externalId:this.externalId,supplierName:this.supplierName,comment:this.comment,customer:this.customer,site:this.site,status:"UPDATED",parts:this.$refs.part.parts,products:this.$refs.product.products};this.$parent.updateData(e)}this.reset()},closeJob:function(t){var e={id:t.id,jobNumber:t.jobNumber,type:t.type,externalId:t.externalId,supplierName:t.supplierName,comment:t.comment,customer:t.customer,site:t.site,status:"CLOSED",parts:t.parts,products:t.products};this.$parent.updateData(e),this.reset()},reset:function(){this.id="",this.jobNumber="",this.externalId="",this.supplierName="",this.comment="",this.customer="",this.site="",this.status="",this.type="",this.$refs.part.parts=[],this.$refs.product.products=[],this.txtBtnFormulario="Save",this.editState=!1,this.jobType=""},loadItem:function(t){this.id=t.id,this.jobNumber=t.jobNumber,this.type=t.type,this.externalId=t.externalId,this.supplierName=t.supplierName,this.comment=t.comment,this.customer=t.customer,this.site=t.site,this.status=t.status,this.$refs.part.parts=t.parts,this.$refs.product.products=t.products,this.txtBtnFormulario="Update",this.editState=!0}},computed:{currentUser:function(){return this.$store.state.auth.user}},mounted:function(){this.currentUser||this.$router.push("/login"),this.getData()},components:{Part:m,Product:C}},y=x,P=Object(d["a"])(y,i,o,!1,null,null,null);e["default"]=P.exports}}]);
//# sourceMappingURL=chunk-7261f566.1eebcec5.js.map