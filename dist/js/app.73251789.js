(function(e){function t(t){for(var r,n,l=t[0],i=t[1],u=t[2],c=0,d=[];c<l.length;c++)n=l[c],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,n=1;n<a.length;n++){var l=a[n];0!==o[l]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o={app:0},s=[];function l(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d21a3d2":"b4a31e1f","chunk-3359c273":"894327ab","chunk-5d300ae0":"4b706026","chunk-d0c7cb86":"556e726e","chunk-d1e99a52":"686ea638","chunk-2d216214":"abe86b4f","chunk-2d216257":"69e90091","chunk-566b789a":"aabb5357","chunk-0212f5bb":"e04010ce","chunk-2b29dfd3":"53025b10","chunk-3f0b5696":"cadb2cdb","chunk-7261f566":"1eebcec5"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a={"chunk-5d300ae0":1,"chunk-d0c7cb86":1,"chunk-d1e99a52":1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var r="css/"+({}[e]||e)+"."+{"chunk-2d21a3d2":"31d6cfe0","chunk-3359c273":"31d6cfe0","chunk-5d300ae0":"9fc2ea69","chunk-d0c7cb86":"253acf93","chunk-d1e99a52":"253acf93","chunk-2d216214":"31d6cfe0","chunk-2d216257":"31d6cfe0","chunk-566b789a":"31d6cfe0","chunk-0212f5bb":"31d6cfe0","chunk-2b29dfd3":"31d6cfe0","chunk-3f0b5696":"31d6cfe0","chunk-7261f566":"31d6cfe0"}[e]+".css",o=i.p+r,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var u=s[l],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===r||c===o))return t()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){u=d[l],c=u.getAttribute("data-href");if(c===r||c===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete n[e],p.parentNode.removeChild(p),a(s)},p.href=o;var b=document.getElementsByTagName("head")[0];b.appendChild(p)})).then((function(){n[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,a){r=o[e]=[t,a]}));t.push(r[2]=s);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=l(e);var d=new Error;u=function(t){c.onerror=c.onload=null,clearTimeout(p);var a=o[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",d.name="ChunkLoadError",d.type=r,d.request=n,a[1](d)}o[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0db3":function(e,t,a){e.exports=a.p+"img/AKgroup_flat.33b6ddd4.jpg"},"56d7":function(e,t,a){"use strict";a.r(t);a("14c6"),a("08c1"),a("4842"),a("d9fc");var r=a("2b0e"),n=a("5f5b"),o=a("b1e0"),s=function(){var e=this,t=e._self._c;return t("div",[e.currentUser?t("div",{staticClass:"main"},[t("b-navbar",[t("b-navbar-nav",{staticClass:"ml-auto"},[t("b-nav-item",{staticClass:"mr-5"},[t("i",{staticClass:"fas fa-user mr-1"}),t("b",[e._v(e._s(e.currentUser.username))])]),t("b-nav-item",{on:{click:function(t){return t.preventDefault(),e.logOut.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-sign-out-alt mr-1"}),e._v("Log out ")])],1)],1),"ROLE_ADMIN"==e.currentUser.roles[0]?t("sidebar-menu",{attrs:{menu:e.sideBarMenuAdmin,width:"180px",collapsed:e.sideBarCollapsed},on:{"toggle-collapse":e.onToggleCollapse}}):e._e(),"ROLE_INSPECTOR"==e.currentUser.roles[0]?t("sidebar-menu",{attrs:{menu:e.sideBarMenuInspector,width:"180px",collapsed:e.sideBarCollapsed},on:{"toggle-collapse":e.onToggleCollapse}}):e._e(),t("b-card",{staticClass:"card-form",style:[1==e.sideBarCollapsed?"margin: 10px 30px 30px 75px; padding: 0px 0px 0px 0px;":"margin: 10px 30px 30px 205px;padding: 0px 0px 0px 0px;"]},[t("router-view",{key:e.$route.fullPath})],1)],1):e._e(),e.currentUser?e._e():t("div",[e.currentUser?e._e():t("router-view",{key:e.$route.fullPath})],1)])},l=[],i={data:function(){return{sideBarCollapsed:!1,sideBarMenuAdmin:[{header:"Main menu",hiddenOnCollapse:!1},{href:"/job",title:"Jobs",icon:"fa  fa-code-branch"},{href:"/inspection",title:"Inspections",icon:"fa  fa-search"},{href:"/customer",title:"Customers",icon:"fa  fa-user-tie"},{href:"/site",title:"Sites",icon:"fa  fa-sitemap"},{title:"Accounts",icon:"fa  fa-users",child:[{href:"/user",title:"Users",icon:"fa  fa-user"}]},{href:"/dashboard",title:"Dashboard",icon:"fas  fa-chart-pie",child:[{href:"/dashboard/results",title:"Results",icon:"fa  fa-table"}]}],sideBarMenuInspector:[{header:"Main menu",hiddenOnCollapse:!1},{href:"/inspection",title:"Inspections",icon:"fa  fa-search"}]}},computed:{currentUser:function(){return this.$store.state.auth.user}},methods:{generateSideBarMenu:function(){this.sideBarMenu=[],this.$forceUpdate()},sidbarStateChange:function(){this.sideBarCollapsed=!this.sideBarCollapsed},onToggleCollapse:function(e){this.sideBarCollapsed=e},logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/login")},catchError:function(e){401===e.response.status?(this.$store.dispatch("auth/logout"),this.$router.push("/login")):(console.log(e),this.showMsgBoxConfirm("A problem occurred. Please contact the administrator","danger","Error","sm"))},showMsgBoxConfirm:function(e,t,a,r){var n=this;this.$bvModal.msgBoxOk(e,{title:a,size:r,buttonSize:"sm",okVariant:t,headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){n.msgValue=e}))}},mounted:function(){}},u=i,c=(a("80a7"),a("2877")),d=Object(c["a"])(u,s,l,!1,null,null,null),p=d.exports,b=a("8c4f"),h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card-body text-secondary text-center card-login"},[t("img",{staticClass:"card-img-top logo mt-3",staticStyle:{width:"200px",heigth:"100px"},attrs:{src:a("0db3")}}),t("p",{staticStyle:{margin:"10px 0px 0px 0px","font-size":"160%"}},[e._v(" Sign in ")]),t("p",{staticStyle:{"font-size":"80%"}},[e._v(" with your username and password ")]),t("form",{attrs:{name:"form"}},[t("div",{staticClass:"form-group mt-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"username",placeholder:"User"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),e.errors.has("username")?t("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" User required ")]):e._e()]),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e.errors.has("password")?t("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" Password required ")]):e._e()]),t("div",{staticClass:"form-group d-flex justify-content-end"},[t("b-button",{staticClass:"mt-3 actionButton",attrs:{variant:"primary",disabled:e.loading},on:{click:e.handleLogin}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),t("span",[e._v("Log in")])])],1),t("div",{staticClass:"form-group"},[e.message?t("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" ")]):e._e()])])])},m=[],f=(a("6b54"),a("bee2")),y=a("d4ec"),g=Object(f["a"])((function e(t,a,r){Object(y["a"])(this,e),this.username=t,this.email=a,this.password=r})),k={name:"Login",data:function(){return{user:new g("",""),loading:!1,message:""}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn&&this.$router.push("/home")},methods:{handleLogin:function(){var e=this;this.loading=!0,this.$validator.validateAll().then((function(t){t?e.user.username&&e.user.password&&e.$store.dispatch("auth/login",e.user).then((function(){e.$router.push("/home")}),(function(t){e.loading=!1,401!=t.response.status?e.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString():e.message="Incorrect user or password"})):e.loading=!1}))}},components:{}},v=k,x=Object(c["a"])(v,h,m,!1,null,null,null),w=x.exports,C={install:function(e){e.prototype.$constants=function(){return{VERSION:"1.0.1",jobTableFields:[{key:"jobNumber",label:"Job Number",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"externalId",label:"External Id",sortable:!0},{key:"supplierName",label:"Supplier Name",sortable:!0},{key:"comment",label:"Comment",sortable:!0},{key:"customer.name",label:"Customer",sortable:!0},{key:"site.name",label:"Site",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"action",label:"",thStyle:{width:"120px"}}],inspectorTableFields:[{key:"name",label:"Name",sortable:!0},{key:"action",label:"",thStyle:{width:"70px"}}],dashboardInspectionTableFields:[{key:"jobInspected.jobNumber",label:"Job Number",sortable:!0},{key:"partInspected.number",label:"Part number",sortable:!0},{key:"partInspected.description",label:"Part Desc.",sortable:!0},{key:"inspectionDate",label:"Inspection Date",sortable:!0},{key:"inspectionTime",label:"Time",sortable:!0},{key:"inspectors",label:"Inspectors",sortable:!0},{key:"refNumber",label:"Ref. Number",sortable:!0},{key:"batchNumber",label:"Batch Number",sortable:!0},{key:"partId",label:"Part Id",sortable:!0},{key:"total",label:"Total",sortable:!0},{key:"ok",label:"Ok",sortable:!0},{key:"nok",label:"Nok",sortable:!0},{key:"rwk",label:"Rwk",sortable:!0},{key:"nok2",label:"Nok*",sortable:!0},{key:"action",label:"",thStyle:{width:"50px"}}],dashboardInspectorTableFields:[{key:"name",label:"Name",sortable:!0}],dashboardDefectSingleTableFields:[{key:"description",label:"Description",sortable:!0},{key:"qtyOk",label:"Ok",sortable:!0},{key:"qtyNok",label:"Nok",sortable:!0},{key:"qtyRw",label:"Rwk",sortable:!0}],dashboardDefectBulkTableFields:[{key:"description",label:"Description",sortable:!0},{key:"qtyNok",label:"Nok",sortable:!0}],dashboardReworkTableFields:[{key:"description",label:"Description",sortable:!0},{key:"qtyRw",label:"Rwk",sortable:!0}],jobInspectionTableFields:[{key:"jobNumber",label:"Job Number",sortable:!0,tdClass:"align-middle"},{key:"type",label:"Type",sortable:!0,tdClass:"align-middle"},{key:"supplierName",label:"Supplier Name",sortable:!0,tdClass:"align-middle"},{key:"comment",label:"Comment",sortable:!0,tdClass:"align-middle"},{key:"customer.name",label:"Customer",sortable:!0,tdClass:"align-middle"},{key:"site.name",label:"Site",sortable:!0,tdClass:"align-middle"},{key:"status",label:"Status",sortable:!0,tdClass:"align-middle"},{key:"action",label:"",thStyle:{width:"120px"}}],customerTableFields:[{key:"country",label:"Country",sortable:!0},{key:"externalId",label:"External Id",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"action",label:"",thStyle:{width:"120px"}}],siteTableFields:[{key:"country",label:"Country",sortable:!0},{key:"externalId",label:"External Id",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"city",label:"City",sortable:!0},{key:"action",label:"",thStyle:{width:"120px"}}],userTableFields:[{key:"username",label:"Username",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"action",label:"",thStyle:{width:"120px"}}],partTableFields:[{key:"number",label:"Number",sortable:!0},{key:"description",label:"Description",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"action",label:"",thStyle:{width:"30px"}}],partInspectionTableFields:[{key:"number",label:"Number",sortable:!0,tdClass:"align-middle"},{key:"description",label:"Description",sortable:!0,tdClass:"align-middle"},{key:"type",label:"Type",sortable:!0,tdClass:"align-middle"},{key:"action",label:"",thStyle:{width:"30px"}}],productInspectionTableFields:[{key:"reference",label:"Reference",sortable:!0,tdClass:"align-middle"},{key:"description",label:"Description",sortable:!0,tdClass:"align-middle"},{key:"action",label:"",thStyle:{width:"30px"}}],defectTableFields:[{key:"description",label:"Description",sortable:!0},{key:"photo",label:"Photo",sortable:!0},{key:"action",label:"",thStyle:{width:"10px"}}],reworkTableFields:[{key:"description",label:"Description",sortable:!0},{key:"photo",label:"Photo",sortable:!0},{key:"action",label:"",thStyle:{width:"10px"}}],checkPointsTableFields:[{key:"description",label:"Description",sortable:!0},{key:"action",label:"",thStyle:{width:"10px"}}],productTableFields:[{key:"reference",label:"Reference",sortable:!0},{key:"description",label:"Description",sortable:!0},{key:"action",label:"",thStyle:{width:"10px"}}],optionsPartType:[{value:"Single",text:"Single"},{value:"Bulk",text:"Bulk"}],optionsJobType:[{value:"Part",text:"Part"},{value:"Product",text:"Product"}],optionsRolType:[{value:"ROLE_ADMIN",text:"Administrator"},{value:"ROLE_INSPECTOR",text:"Inspector"}],optionsPhoto:[{value:"No photo suport",text:"No photo suport"},{value:"Photo optional",text:"Photo optional"},{value:"Photo required",text:"Photo required"}]}}}};r["default"].use(C),r["default"].use(b["a"]);var S=new b["a"]({mode:"history",routes:[{path:"/",name:"Login",component:w},{path:"/login",component:w},{path:"/home",name:"Home",component:function(){return a.e("chunk-2d21a3d2").then(a.bind(null,"bb51"))}},{path:"/dashboard",name:"Dashboard",component:function(){return a.e("chunk-5d300ae0").then(a.bind(null,"7e48"))}},{path:"/dashboard/results",name:"DashboardResults",component:function(){return a.e("chunk-3359c273").then(a.bind(null,"a3f3"))}},{path:"/job",component:function(){return a.e("chunk-d1e99a52").then(a.bind(null,"e7f1"))},props:{current:"job-dynamic",mainTableFields:r["default"].prototype.$constants().jobTableFields,type:"job"}},{path:"/inspection",component:function(){return a.e("chunk-d0c7cb86").then(a.bind(null,"69c0"))},props:{current:"job-dynamic",mainTableFields:r["default"].prototype.$constants().jobTableFields,type:"job"}},{path:"/customer",component:function(){return a.e("chunk-d1e99a52").then(a.bind(null,"e7f1"))},props:{current:"customer-dynamic",mainTableFields:r["default"].prototype.$constants().customerTableFields,type:"customer"}},{path:"/site",component:function(){return a.e("chunk-d1e99a52").then(a.bind(null,"e7f1"))},props:{current:"site-dynamic",mainTableFields:r["default"].prototype.$constants().siteTableFields,type:"site"}},{path:"/user",component:function(){return a.e("chunk-d1e99a52").then(a.bind(null,"e7f1"))},props:{current:"user-dynamic",mainTableFields:r["default"].prototype.$constants().userTableFields,type:"user"}}]}),T=a("2f62"),N=a("9962"),I=JSON.parse(localStorage.getItem("user")),j=I?{status:{loggedIn:!0},user:I}:{status:{loggedIn:!1},user:null},O={namespaced:!0,state:j,actions:{login:function(e,t){var a=e.commit;return N["a"].login(t).then((function(e){return a("loginSuccess",e),Promise.resolve(e)}),(function(e){return a("loginFailure"),Promise.reject(e)}))},logout:function(e){var t=e.commit;N["a"].logout(),t("logout")}},mutations:{loginSuccess:function(e,t){e.status.loggedIn=!0,e.user=t},loginFailure:function(e){e.status.loggedIn=!1,e.user=null},logout:function(e){e.status.loggedIn=!1,e.user=null}}};r["default"].use(T["a"]);var P=new T["a"].Store({modules:{auth:O},devtool:"source-map"}),_=(a("4989"),a("ab8b"),a("2dd8"),a("7bb1")),F=a("ecee"),B=a("ad3d"),D=a("8e5f"),$=a.n(D),E=a("c074"),A=a("4776"),R=a.n(A);a("b15b"),a("e607");r["default"].use(C),r["default"].use(R.a),F["c"].add(E["a"],E["d"],E["e"],E["b"],E["c"]),r["default"].config.productionTip=!1,r["default"].use(_["a"],{fieldsBagName:"veeFields"}),r["default"].component("font-awesome-icon",B["a"]),r["default"].component("multiselect",$.a),r["default"].use(n["a"]),r["default"].use(o["a"]),r["default"].use(T["a"]),new r["default"]({router:S,store:P,render:function(e){return e(p)}}).$mount("#app")},8065:function(e,t,a){},"80a7":function(e,t,a){"use strict";a("8065")},9962:function(e,t,a){"use strict";var r=a("d4ec"),n=a("bee2"),o=a("bc3a"),s=a.n(o);a("ed18").config();var l=function(){function e(){Object(r["a"])(this,e)}return Object(n["a"])(e,[{key:"login",value:function(e){return s.a.post("https://projects.datia-analytics.com:60301/api/auth/signin",{username:e.username,password:e.password}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"getUsers",value:function(){var e=JSON.parse(localStorage.getItem("user"));return s.a.get("https://projects.datia-analytics.com:60301/api/auth/user",{headers:{Authorization:"Bearer "+e.accessToken}}).then((function(e){return e.data}))}},{key:"saveUser",value:function(e){var t=JSON.parse(localStorage.getItem("user"));return s.a.post("https://projects.datia-analytics.com:60301/api/auth/signup",e,{headers:{Authorization:"Bearer "+t.accessToken}}).then((function(e){return e.data}))}},{key:"updateUser",value:function(e){var t=JSON.parse(localStorage.getItem("user"));return s.a.put("https://projects.datia-analytics.com:60301/api/auth/user",e,{headers:{Authorization:"Bearer "+t.accessToken}}).then((function(e){return e.data}))}},{key:"deleteUser",value:function(e){var t=JSON.parse(localStorage.getItem("user"));return s.a.delete("https://projects.datia-analytics.com:60301/api/auth/user/"+e,{headers:{Authorization:"Bearer "+t.accessToken}}).then((function(e){return e.data}))}}]),e}();t["a"]=new l}});
//# sourceMappingURL=app.73251789.js.map